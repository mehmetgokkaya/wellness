<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Unicorn Spa Wellness Reservation</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
<script src="js/jquery.validate.js"></script>
<script src="js/jquery.placeholder.js"></script>
<script src="js/jquery.form.js"></script>
<link rel="stylesheet" href="css/css/styl.css">
<script>
$(function(){
$('#contact').validate({
submitHandler: function(form) {
    $(form).ajaxSubmit({
    url: '//formspree.io/mehmet@mehmetgokkaya.com',
    success: function() {
    $('#contact').hide();
    $('#contact-form').append("<p class='thanks'>Thanks! Your request has been sent.</p>")
    }
    });
    }
});         
});
    // define variables
var nativePicker = document.querySelector('.nativeDatePicker');
var fallbackPicker = document.querySelector('.fallbackDatePicker');
var fallbackLabel = document.querySelector('.fallbackLabel');

var yearSelect = document.querySelector('#year');
var monthSelect = document.querySelector('#month');
var daySelect = document.querySelector('#day');

// hide fallback initially
fallbackPicker.style.display = 'none';
fallbackLabel.style.display = 'none';

// test whether a new date input falls back to a text input or not
var test = document.createElement('input');
test.type = 'date';
// if it does, run the code inside the if() {} block
if(test.type === 'text') {
  // hide the native picker and show the fallback
  nativePicker.style.display = 'none';
  fallbackPicker.style.display = 'block';
  fallbackLabel.style.display = 'block';

  // populate the days and years dynamically
  // (the months are always the same, therefore hardcoded)
  populateDays(monthSelect.value);
  populateYears();
}

function populateDays(month) {
  // delete the current set of <option> elements out of the
  // day <select>, ready for the next set to be injected
  while(daySelect.firstChild){
    daySelect.removeChild(daySelect.firstChild);
  }

  // Create variable to hold new number of days to inject
  var dayNum;

  // 31 or 30 days?
  if(month === 'January' | month === 'March' | month === 'May' | month === 'July' | month === 'August' | month === 'October' | month === 'December') {
    dayNum = 31;
  } else if(month === 'April' | month === 'June' | month === 'September' | month === 'November') {
    dayNum = 30;
  } else {
  // If month is February, calculate whether it is a leap year or not
    var year = yearSelect.value;
    (year - 2016) % 4 === 0 ? dayNum = 29 : dayNum = 28;
  }

  // inject the right number of new <option> elements into the day <select>
  for(i = 1; i <= dayNum; i++) {
    var option = document.createElement('option');
    option.textContent = i;
    daySelect.appendChild(option);
  }

  // if previous day has already been set, set daySelect's value
  // to that day, to avoid the day jumping back to 1 when you
  // change the year
  if(previousDay) {
    daySelect.value = previousDay;

    // If the previous day was set to a high number, say 31, and then
    // you chose a month with less total days in it (e.g. February),
    // this part of the code ensures that the highest day available
    // is selected, rather than showing a blank daySelect
    if(daySelect.value === "") {
      daySelect.value = previousDay - 1;
    }

    if(daySelect.value === "") {
      daySelect.value = previousDay - 2;
    }

    if(daySelect.value === "") {
      daySelect.value = previousDay - 3;
    }
  }
}

function populateYears() {
  // get this year as a number
  var date = new Date();
  var year = date.getFullYear();

  // Make this year, and the 100 years before it available in the year <select>
  for(var i = 0; i <= 100; i++) {
    var option = document.createElement('option');
    option.textContent = year-i;
    yearSelect.appendChild(option);
  }
}

// when the month or year <select> values are changed, rerun populateDays()
// in case the change affected the number of available days
yearSelect.onchange = function() {
  populateDays(monthSelect.value);
}

monthSelect.onchange = function() {
  populateDays(monthSelect.value);
}

//preserve day selection
var previousDay;

// update what day has been set to previously
// see end of populateDays() for usage
daySelect.onchange = function() {
  previousDay = daySelect.value;
}
</script>
</head>
    <body>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<script type="text/javascript">
var ote1				= new Array("masaj 1", "masaj 2");
var ote2				= new Array("masaj 2-1", "masaj 2-2");

function set_player() {
  var select_otel = document.arama.otel;
  var select_masaj = document.arama.masaj;
  var selected_otel = select_otel.options[select_otel.selectedIndex].value;

  select_masaj.options.length=0;
  if (selected_otel == "otel 1"){
    for(var i=0; i<ote1.length; i++)
    select_masaj.options[select_masaj.options.length] = new Option(ote1[i]);
  }
  if (selected_otel == "otel 2"){
    for(var i=0; i<ote2.length; i++)
    select_masaj.options[select_masaj.options.length] = new Option(ote2[i]);
  }
}
</script>

<div id="contact-form" style="margin: 15% 0 0 45%;">	
<form name="arama" method="POST" action="//formspree.io/mehmet@mehmetgokkaya.com">
    <fieldset style="width: 25%;">
<table>
<tr>

<td><label  for="name" style="float: left;">Name:</label><input style="float: right;" type="text" name="name" placeholder="Full Name" title="Enter your name" class="required"><td/>
</tr>
<tr><td><label style="float: left;" style="float: left;" for="Phone">Phone:</label><input style="float: right;" type="text" name="phone" placeholder="ex. (555) 555-5555"><td/></tr>
<tr><td><label style="float: left;" for="email">E-mail:</label><input style="float: right;" type="email" name="email" placeholder="mail@mail.com"></td></tr>
    
<tr><td><label style="float: left;" for="Room Number">Room Number:</label><input style="float: right;" type="Room Number" name="Room Number" placeholder="xxxx"></td></tr>
<tr><td>
    <div class="nativeDatePicker">
      <label for="date">Reservation Date:</label>
      <input type="date" id="bday" name="Date">
      <span class="validity"></span>
    </div>
    <p class="fallbackLabel">Reservation Date:</p>
    <div class="fallbackDatePicker">
      <span>
        <label for="day">Day:</label>
        <select id="day" name="day">
        </select>
      </span>
      <span>
        <label for="month">Month:</label>
        <select id="month" name="month">
          <option selected>January</option>
          <option>February</option>
          <option>March</option>
          <option>April</option>
          <option>May</option>
          <option>June</option>
          <option>July</option>
          <option>August</option>
          <option>September</option>
          <option>October</option>
          <option>November</option>
          <option>December</option>
        </select>
      </span>
      <span>
        <label for="year">Year:</label>
        <select id="year" name="year">
        </select>
      </span>
    </div></td></tr>
    
    <tr><td><label style="float: left;" for="Question/Comment">Question/Comment:</label><input style="float: right;" type="Mesaj覺n覺z" name="Mesaj覺n覺z" placeholder=""></td></tr>
 
    <td style="float: left;">Otel:<select type="text" name="otel" onchange="set_player()" style="float: right;width: 400px;">
    <option style="float: right;" selected="selected" style="background-color:#FFCC00;">Please Chose</option>
    <option type="text" value="otel 1">Otel 1</option>
    <option type="text" value="otel 2">Otel 2</option>
    </select>
    </td>
    <tr><td style="float: left;">Massage:<select style="float: right;width: 400px;" type="text" name="masaj">
    <option type="text" style="float: right;">Select Hotel First</option>
    </select>
    </td>
    </tr>
      <td>
        <center><input type="submit" name="button" id="button" value="Send" /></center>
      </td>
  </table>
    </fieldset>
</form>
</div>

<script src="js/modernizr-min.js"></script>
<script>
if (!Modernizr.input.placeholder){
      $('input[placeholder], textarea[placeholder]').placeholder();
}
</script>
</body>
    version 0.1.3
</html>
